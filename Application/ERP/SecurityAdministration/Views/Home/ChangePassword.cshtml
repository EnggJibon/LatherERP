@using SecurityAdministration.BLL
@model SecurityAdministration.BLL.ViewModels.UserVM
@{
    ViewBag.Title = "ChangePassword";
}
    
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                Change Password
                @Html.Hidden("userId", LoginInformation.UserID)
            </div>

            <div class="panel-body">
                
                <div class="row">
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="" class="col-xs-4 control-label">New Password</label>
                            <div class="col-xs-8">
                                @Html.TextBoxFor(model => model.User.Password, new { @class = "form-control input-sm" })
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-lg-offset-10">
                        <div class="form-group">
                            <input id="btnSave" type="button" value="Save" class="btn btn-default btn-sm" />
                            <input type="button" value="Reset" class="btn btn-default btn-sm" onclick="return clearMenuItemData();" />
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>    

<script type="text/javascript">
    $(document).ready(function() {
    });

    $("#btnSave").click(function() {

        $.ajax({
            type: "POST",
            url: '@Url.Action("ChangePassword", "User")',
            data: { userId: $('#userId').val(), password: $('#User_Password').val() },
            success: function(data) {
                window.location = data.url;
            },
            error: function() {
                
            }
            });
    });
</script>
